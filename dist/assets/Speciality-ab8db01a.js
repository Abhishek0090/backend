import{a as m}from"./react-ef3399cd.js";import{A as O,h as P,w as I,e as L,V as $,p as M,f as H,m as Q,T as W,n as F,o as T,x as _}from"./array-cc2e2e42.js";import{T as U}from"./Tags-fec3723a.js";import{j as e,a as l,F as N}from"./createLucideIcon-5244bfd8.js";import{J as X,z as Y,a3 as B,a5 as G,a1 as z,a2 as R,a4 as k,a0 as J}from"./formik.esm-48e41763.js";import{u as K,v as Z,x as D}from"./freelancerSlice-d7c5526c.js";import{C as ee}from"./check-circle-537067c2.js";import{F as te}from"./file-plus-2-e83cd430.js";import{X as re}from"./x-d8df971e.js";import{L as ne}from"./loader-2-b93b986b.js";const ie=8,se=I();function ae(u){const{data:t,index:a,style:p}=u,r=t[a],o={...p};return e(W,{component:"li",...r[0],noWrap:!0,style:o,children:r[1]})}const A=m.createContext({}),le=m.forwardRef((u,t)=>{const a=m.useContext(A);return e("div",{ref:t,...u,...a})});function oe(u){const t=m.useRef(null);return m.useEffect(()=>{t.current!=null&&t.current.resetAfterIndex(0,!0)},[u]),t}const E=m.forwardRef(function(t,a){const{children:p,...r}=t,o=[];p.forEach(c=>{o.push(c),o.push(...c.children||[])});const x=X(),g=L(x.breakpoints.up("sm"),{noSsr:!0}),f=o.length,w=g?36:48,s=c=>c.hasOwnProperty("group")?48:w,b=()=>f>8?8*w:o.map(s).reduce((c,S)=>c+S,0),v=oe(f);return e("div",{ref:a,children:e(A.Provider,{value:r,children:e($,{itemData:o,height:b()+2*ie,width:"100%",ref:v,outerElementType:le,innerElementType:"ul",itemSize:c=>s(o[c]),overscanCount:5,itemCount:f,children:ae})})})});E.propTypes={children:M.node};const ue=Y(H)({[`& .${Q.listbox}`]:{boxSizing:"border-box","& ul":{padding:0,margin:0}}});function ce({setSubjectTags:u}){return e(O,{multiple:!0,freeSolo:!0,id:"virtualize-subject-tags",filterOptions:(t,a)=>{const p=new RegExp(`^${a.inputValue}`,"gi"),r=se(t,a).filter(g=>p.test(g)),{inputValue:o}=a,x=t.some(g=>o===g);return o!==""&&!x&&r.push(o),r},onChange:(t,a)=>{u(a)},disableListWrap:!0,PopperComponent:ue,ListboxComponent:E,options:U,renderInput:t=>e(P,{sx:{["& fieldset"]:{borderRadius:"25px"}},...t,label:"Select or type to add tags",required:!0}),renderOption:(t,a,p)=>[t,a,p.index]})}const y=5,de=F().shape({qualification:T().required("Required"),working_hours:T().required("Required"),subject_tags:_().required("Required"),uploadedFiles:_().required("Required"),assignment_type:_().required("Required")});function _e({nextStepHandler:u,checkBoxes:t,relevantCheckboxes:a,setUploadedFiles:p,uploadedFiles:r,handleUploadFiles:o,setCheckBoxes:x,loading:g,setLoading:f}){var q,C,j;const w=K(),s=Z(n=>n.freelancer.technicalFreelancerFormData),[b,v]=m.useState([((q=s==null?void 0:s.subject_tags)==null?void 0:q.map(n=>n))||[]]),[c,S]=m.useState([((C=s==null?void 0:s.assignment_type)==null?void 0:C.map(n=>n))||[]]);m.useState(window.localStorage.getItem("saved_files")||[]);const i=B({enableReinitialize:!0,initialValues:{assignment_type:c||[],qualification:(s==null?void 0:s.qualification)||"",working_hours:(s==null?void 0:s.working_hours)||"",subject_tags:((j=s==null?void 0:s.subject_tags)==null?void 0:j.map(n=>n))||[],uploadedFiles:[]},onSubmit:n=>{u(),w(D({assignment_type:t,qualification:i.values.qualification,working_hours:i.values.working_hours,subject_tags:i.values.subject_tags}))},validationSchema:de});return m.useEffect(()=>{i.setFieldValue("subject_tags",b),i.setFieldValue("uploadedFiles",r),i.setFieldValue("assignment_type",t)},[b,i==null?void 0:i.values,t,r]),l(N,{children:[e("label",{className:"block mt-4 mb-2 text-xl font-medium ",children:"Speciality Section"}),l("div",{className:"flex flex-col md:w-[50rem] w-[20rem] ",children:[e("div",{className:"flex flex-col items-center justify-center",children:e("fieldset",{className:"flex flex-wrap items-center justify-center w-full max-w-2xl gap-3 py-8",children:a==null?void 0:a.map((n,d)=>l("div",{children:[e("input",{type:"checkbox",name:n,value:n,id:n,className:"peer hidden [&:checked_+_label_svg]:block",onChange:h=>{h.target.checked?x([...t,h.target.value]):x(t.filter(V=>V!==h.target.value))}}),l("label",{htmlFor:n,className:"flex items-center justify-center gap-2 px-3 py-2 text-gray-900 border border-gray-100 rounded-md cursor-pointer hover:border-gray-200 peer-checked:border-blue918 peer-checked:bg-blue918 peer-checked:text-white",children:[t!=null&&t.find(h=>h===n)?e(ee,{size:20}):e(G,{size:20}),e("p",{className:"text-xs font-medium capitalize md:text-sm",children:n})]})]},d))})}),l(z,{variant:"outlined",required:!0,sx:{marginTop:"1rem",width:"100%"},children:[e(R,{htmlFor:"outlined-adornment-name",children:"Qualification"}),e(k,{sx:{borderRadius:"25px"},value:i.values.qualification,onChange:i.handleChange("qualification"),onBlur:i.handleBlur("qualification"),error:i.touched.qualification&&i.errors.qualification,variant:"outlined",type:"text",id:"qualification",name:"qualification",label:"Qualification",placeholder:" Qualification (e.g. BE, B.Tech, MBA, etc.)"})]}),e("div",{className:"relative flex flex-row flex-shrink-0 pt-10 ",children:l(z,{variant:"outlined",required:!0,sx:{marginBottom:"1rem",width:"100%"},children:[e(R,{htmlFor:"outlined-adornment-name",children:"Working Hours"}),e(k,{sx:{borderRadius:"25px"},value:i.values.working_hours,onChange:i.handleChange("working_hours"),onBlur:i.handleBlur("working_hours"),error:i.touched.working_hours&&i.errors.working_hours,type:"text",id:"working_hours",name:"working_hours",label:"Working Hours",placeholder:" Any specific working hours? (e.g. 9am to 5pm)"})]})}),e("br",{}),e(ce,{setSubjectTags:v,subject_tags:b}),e("div",{className:"flex flex-col items-center justify-center pt-5 ",children:l("div",{className:"flex flex-col items-start justify-start w-full max-w-xl pt-1 pb-10",children:[(r==null?void 0:r.length)>=y?null:e("div",{className:"flex items-center justify-center w-full pb-2 ",children:l("label",{className:"flex flex-col items-center w-full px-4 py-6 tracking-wide uppercase bg-white border rounded-lg shadow-lg cursor-pointer text-blue border-blue hover:bg-blue hover:text-gray-400",children:[(r==null?void 0:r.length)===0?l(N,{children:[e("svg",{className:"w-8 h-8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})}),l("span",{className:"mt-2 text-base leading-normal",children:[" ","Upload your past work samples"]})]}):l(N,{children:[e(te,{size:30}),e("span",{className:"mt-2 text-base leading-normal",children:"Add another file"})]}),e("input",{type:"file",className:"hidden",multiple:!0,onChange:n=>{f(!0);let d=[...n.target.files];if(console.log("files :>> ",d),d.length>y){toast.error(`You can upload only ${y} files`),f(!1);return}if(d.length+r.length>y){toast.error(`You can upload only ${y} files`),f(!1);return}o(d)}})]})}),r==null?void 0:r.map((n,d)=>l("div",{className:"flex items-center  justify-between w-full bg-gray-200 text-gray-800 px-2 rounded-lg my-0.5",children:[l("span",{className:"p-1 rounded-lg ",children:[d+1,". ",n==null?void 0:n.name]}),e("button",{onClick:()=>{let h=[...r];h.splice(d,1),p(h)},className:"m-1 leading-none text-white bg-red-500 rounded-full hover:text-gray-100 hover:bg-red-600",children:e(re,{size:20})})]},d)),g?l("div",{role:"status",children:[e(ne,{size:20,className:"animate-spin"}),e("span",{className:"sr-only",children:"Loading..."})]}):null]})})]}),l("button",{type:"submit",onClick:i.handleSubmit,className:"flex flex-row items-center justify-center w-32 py-1 mt-5 mb-10 text-lg rounded-full right-10 md:font-SemiBold md:text-xl text-blue918 md:py-3 md:w-48",children:[e("span",{className:"mr-1 md:mr-2",children:"Next"}),e("span",{className:"items-center px-2 ",children:e(J,{className:"w-5 h-5 ml-2"})})]})]})}export{_e as default};
